<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"

      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Facelet Title</title>
        <!--<link rel="stylesheet" href="css/login.css">-->
        <h:outputStylesheet name="css/muela.css"/>
        <h:outputStylesheet name="css/login.css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"></link>
    </h:head>
    <h:body>
        Pagina de logeo #{loginController.username}
        <h:form id="PacienteListForm">

            <ui:repeat value="#{loginController.lista}" var="dato" varStatus="estado"  class="btn-group">
                <p:commandLink class="btn btn-primary btn-sm" style="margin:5px;" ajax="true" value="#{dato}" actionListener="#{loginController.definirActual(estado.index)}" >
                </p:commandLink>
            </ui:repeat>

            <h:form id="mainForm" >
                <table >
                    <tr>
                        <c:forEach begin="0" end="#{loginController.cantidadMuelas-1}" var="item" varStatus="estado" >
<!--                        <c:forEach items="#{loginController.lista}" var="item" varStatus="estado" >-->
                            <td>
                                <div id="der#{item}" class="muela" >
                                    <p:commandLink  class="hover lado arriba" actionListener="#{loginController.asignarEstado(item, 0)}" 
                                                    process="@form" update="@this" immediate="true">
                                        <img  class="imagen " src="#{resource[loginController.estado(item, 0,'abajo.svg')]}" type="image/svg+xml"></img>
                                        
                                    </p:commandLink>

                                    <p:commandLink ajax="true"  class="hover lado abajo" actionListener="#{loginController.asignarEstado(item, 4)}"  
                                                   >
                                        <div  class="" >
                                            
                                        <img class="imagen " src="#{resource[loginController.estado(item, 4,'abajo.svg')]}" >
                                        </img>
                                        </div>
                                        <p:ajax update="@this" immediate="true"/>
                                    </p:commandLink>

                                    <p:commandLink class="hover lado derecha" actionListener="#{loginController.asignarEstado(item, 3)}"
                                                   update="@this">
                                        <img class="imagen " src="#{resource[loginController.estado(item, 3,'izquierdo.svg')]}" type="image/svg+xml"></img>
                                    </p:commandLink>

                                    <p:commandLink ajax="true" class="hover lado izquierda" actionListener="#{loginController.asignarEstado(item, 1)}"  
                                                   update="@this">
                                        <img class="imagen " src="#{resource[loginController.estado(item, 1,'izquierdo.svg')]}" type="image/svg+xml"></img>
                                    </p:commandLink>

                                    <p:commandLink ajax="true" class="hover centro imagen_centro" actionListener="#{loginController.asignarEstado(item, 2)}"  
                                                   update="@this">
                                        <img class="imagen " src="#{resource[loginController.estado(item, 2,'centro.svg')]}" ></img>
                                    </p:commandLink>
                                </div>
                            </td>
                        </c:forEach>
                    </tr>
                </table>
                <div class="muela" >
                    <p:commandLink  class="imagenarriba" value="22c" actionListener="#{loginController.login}" oncomplete="manejarLogin(xhr, status, args)" >
                    </p:commandLink>
                </div>
            </h:form>

<!--            <h:dataTable id="tabla" value="#{loginController.lista}" var="dato"  >
    <h:column>
        holacomo vas    
        <f:facet name="header">
            <h:outputText value="valor"></h:outputText>
        </f:facet>
        <h:column rowHeader="true" class="columna" >
        </h:column>
    </h:column>
</h:dataTable>-->


            <!--                        </p:column>
                            </p:row>-->
            <!--</p:panelGrid>-->
        </h:form>
    </h:body>
</html>
<!--referencias 
developeando.com/blog/iterar-listas-jsf-ui-repeat-varstatus
-->

